<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Home</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Oswald:400,700|Muli:300,400,700,900" rel="stylesheet">

    <link rel="stylesheet" th:href="@{/fonts/icomoon/style.css}">
    <link rel="stylesheet" th:href="@{/css/test.css}">
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/jquery-ui.css}">
    <link rel="stylesheet" th:href="@{/css/owl.carousel.min.css}">
    <link rel="stylesheet" th:href="@{/css/owl.theme.default.min.css}">
    <link rel="stylesheet" th:href="@{/css/owl.theme.default.min.css}">
    <link rel="stylesheet" th:href="@{/css/jquery.fancybox.min.css}">
    <link rel="stylesheet" th:href="@{/css/bootstrap-datepicker.css}">
    <link rel="stylesheet" th:href="@{/fonts/flaticon/font/flaticon.css}">
    <link rel="stylesheet" th:href="@{/css/aos.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link th:href="@{/resources/static/css/floor.css}">
    <!-- #007bff -->
    <style>


*{
  margin:0;
  padding:0;
}

.floor-space{
  background-color:black;
  padding:0.5rem;
  margin:0.5rem;
 overflow: auto;

}

ol{
  list-style:none;
}

.room-space{
  display:flex;
  flex-wrap:nowrap;
  background-color:orange;
  padding:0.5rem;
  overflow: auto;

}




    .container {
    display: grid;
    margin: 10px;
    grid-template-columns: repeat(2, 1fr);
    grid-gap: 5px;
    }

    body {
    margin: 0;
    font-family: helvetica, arial, sans-serif;
    color: white;
    }

    .room {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: 60px repeat(4, minmax(100px, 1fr )) 60px;
    grid-gap: 5px;

    align-items: center;
    justify-content: center;
    border: 1px solid lightgrey;
    padding: 10px;
    }

    .roomNo {
    display: flex;
    flex-flow: column;
    padding: 10px;
    height: 60%;
    background-color: darkblue;
    border-radius: 5px;
    }

    .roomNo.full{
    background-color: darkred
    }

    .btn {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 10px;
    cursor:pointer;
    height: 60%;
    background-color: black;

    text-decoration: none;
    color: white;
    border-radius: 5px;
    }

    .roomNo, .saveRoom {
    display: flex;
    align-items: center;
    justify-content: center;
    }


    .saveRoom{
    grid-area: 6 / 1 / span 1 / span 4;
    background-color: black;
    }

    .bed {
    justify-self: center;
    }


    </style>
</head>
<body data-spy="scroll" data-target=".site-navbar-target" data-offset="300">


<div id="overlayer"></div>
<div class="loader">
    <div class="spinner-border text-primary" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</div>

<section>
    <h1>Add floor</h1>
    <form th:action="@{/addFloor}" method="post">
        <input type="Submit" value="Add Floor">
    </form>

    <br>
    <!--LISTS THE FLOORS -->
    <div th:if="${not #lists.isEmpty(allFloors)}">
        <!--Displaying floors -->
        <div class="floor-space" th:each="floor : ${allFloors}">
            <h3 th:text="'Floor ' + ${floor.level}"></h3>
            <form th:action="@{/deleteFloor}" method="post">
                <input type="hidden" th:value="${floor.id}" name="deleteFloorId">
                <input type="Submit" value="Delete Floor">
            </form>
            <br>
            <form th:action="@{/addRoom}" method="post">
                <input type="hidden" th:value="${floor.id}" name="floorId">
                <input type="Submit" value="Add Room">
            </form>
            <!-- Displaying rooms -->
            <div th:if="${not #lists.isEmpty(floor.rooms)}">
                <div class="room-space">
                    <ol th:each="room : ${floor.rooms}">
                        <li class="room">
                            <!-- Displaying rooms -->
                            <div class="container">
                                <div class="room" data-room="1">
                                    <div class="roomNo">
                                        <span th:text=${room.name}></span>
                                        <span class="bedcount">Beds: 0</span>
                                    </div>
                                    <form th:action="@{/deleteRoom}" method="post">
                                        <input type="hidden" th:value="${room.id}" name="deleteRoomId">
                                        <input class="btn roomDel" data-room="1" type="Submit" value="Delete Room">
                                    </form>
                                    <div class="btn addBed" data-room="1">Add Bed</div>
                                    <div class="btn delBed" data-room="1">Delete Bed</div>
                                    <div class="btn saveRoom" data-room="1">Save Room</div>
                                </div>
                            </div>


                            <!--
                            <div class="grid-container">
                                <div class="roomPlaceholder" th:text="${room.name}"><p></p></div>
                                <div class="deleteRoomButtonPlaceholder">
                                    <form th:action="@{/deleteRoom}" method="post">
                                        <input type="hidden" th:value="${room.id}" name="deleteRoomId">
                                        <input id="deleteRoomSubmit" type="Submit" value="Delete Room">
                                    </form>
                                </div>
                                <div class="addBedButtonPlaceholder">
                                    <form th:action="@{/addBed}" method="post">
                                        <input type="hidden" th:value="${room.id}" name="addBedId">
                                        <input id="addBedSubmit" type="Submit" value="Add Bed">
                                    </form>
                                </div>
                                <div class="deleteBedButtonPlaceholder">
                                    <form th:action="@{/deleteBed}" method="post">
                                        <input type="hidden" th:value="${room.id}" name="deleteBedId">
                                        <input id="deleteBedSubmit" type="Submit" value="Delete Bed">
                                    </form>
                                </div>
                                <div class="bedPlaceHolder"><p>Bed0</p></div>
                                <div class="bedPlaceHolder1"><p>Bed1</p></div>
                                <div class="bedPlaceHolder2"><p>Bed2</p></div>
                                <div class="bedPlaceHolder3"><p>Bed3</p></div>
                                <div class="bedPlaceHolder4"><p>Bed4</p></div>
                                <div class="bedPlaceHolder5"><p>Bed5</p></div>
                                <div class="bedPlaceHolder6"><p>Bed6</p></div>
                                <div class="bedPlaceHolder7"><p>Bed7</p></div>
                                <div class="bedPlaceHolder8"><p>Bed8</p></div>
                                <div class="bedPlaceHolder9"><p>Bed9</p></div>
                                <div class="bedPlaceHolder10"><p>Bed10</p></div>
                                <div class="bedPlaceHolder11"><p>Bed11</p></div>
                                <div class="bedPlaceHolder12"><p>Bed12</p></div>
                                <div class="bedPlaceHolder13"><p>Bed13</p></div>
                                <div class="bedPlaceHolder14"><p>Bed14</p></div>
                                <div class="bedPlaceHolder15"><p>Bed15</p></div>
                                <div class="saveButtonPlaceholder">
                                    <form th:action="@{/saveBedFormation}" method="post">
                                        <input type="hidden" th:value="${room.id}" name="saveBedFormation">
                                        <input id="saveBedsSubmit" type="Submit" value="Save Beds">
                                    </form>
                                </div>
                            </div> -->
                        </li>

                    </ol>
                </div>
            </div>

        </div>
    </div>

</section>
</div>


</div>


</div> <!-- .site-wrap -->

<script>

        const rooms = document.querySelectorAll(".room");
const addBedBtns = document.querySelectorAll(".addBed");

for (let i = 0; i < addBedBtns.length; i++) {
  addBedBtns[i].addEventListener("click", e => {
    let room = document.querySelector(
      `.room[data-room='${e.target.dataset.room}']`
    );
    let roombeds = room.querySelectorAll(".bed").length;

    if (roombeds < 16) {
      let bed = document.createElement("img");
      bed.src = "https://via.placeholder.com/100";
      bed.classList.add("bed");
      room.appendChild(bed);
      room.querySelector(".bedcount").innerText = `Beds: ${++roombeds}`;
      if (++roombeds === 16) {
        room.querySelector(".roomNo").classList.add("full");
      }
    } else {
      alert("All beds in this room are filled!");
    }
  });
}
    </script>



<script th:src="@{/js/jquery-3.3.1.min.js}"></script>
<script th:src="@{/js/jquery-ui.js}"></script>
<script th:src="@{/js/popper.min.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
<script th:src="@{/js/owl.carousel.min.js}"></script>
<script th:src="@{/js/jquery.easing.1.3.js}"></script>
<script th:src="@{/js/aos.js}"></script>
<script th:src="@{/js/jquery.fancybox.min.js}"></script>
<script th:src="@{/js/jquery.waypoints.min.js}"></script>
<script th:src="@{/js/jquery.animateNumber.min.js}"></script>
<script th:src="@{/js/jquery.sticky.js}"></script>
<script th:src="@{/js/main.js}"></script>
<script th:src="@{/js/floor.js}"></script>


</body>
</html>